install.packages(rvest)
install.packages('rvest')
install.packages('httr')
library('dplyr')
library('rvest')
URL <- 'http://news.bbc.co.uk/2/hi/uk_news/politics/8044207.stm'
ExpensesTable <- URL %>% read_html() %>%
html_nodes('#expenses_table') %>%
html_table() %>%
as.data.frame
View('ExpensesTable')
head(ExpensesTable)[, 1:3]
base <- c("cat16_24", "25_34cat", "35_44catch",
"45_54Cat", "55_4fat$", 'colour', 'color')
grep('\bcat\b', base, ignore.case = T)
grep('cat', base, ignore.case = T)
grep('\wcat\w', base, ignore.case = T)
grep('\wcat', base, ignore.case = T)
URLmedals <- 'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
as.data.frame()
MedalsTable <- URLmedals %>% read_html() %>%
html_node('medals-table_table') %>%
html_table() %>%
as.data.frame
MedalsTable <- URLmedals %>% read_html() %>%
html_node('.medals-table') %>%
html_table() %>%
as.data.frame
MedalsTable <- URLmedals %>% read_html() %>%
html_node('div.medals-table.medals-table') %>%
html_table() %>%
as.data.frame
MedalsTable <- URLmedals %>% read_html() %>%
html_node('medals-table_wrapper') %>%
html_table() %>%
as.data.frame
MedalsTable <- URLmedals %>% read_html() %>%
html_node('medals-table-bycountry-full') %>%
html_table() %>%
as.data.frame
?html_node
URLmedals <- 'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
MedalsTable <- URLmedals %>% read_html() %>%
html_node(xpath='//*[@id="sport"]/div[2]/div[2]/div/div[1]/div/section/div[2]') %>%
html_table() %>%
as.data.frame
MedalsTable <- URLmedals %>% read_html() %>%
html_node(xpath='//*[@id="sport"]/div[2]/div[2]/div/div[1]/div/section') %>%
html_table() %>%
as.data.frame
URLmedals <- 'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
MedalsTable <- URLmedals %>% read_html() %>%
html_node(xpath='//*[@id="sport"]/div[2]/div[2]/div/div[1]/div/section/div[2]/table') %>%
html_table() %>%
as.data.frame
head(MedalsTable)
names(MedalsTable)
View(MedalsTable)
?columns
names(MedalsTable) <- c("Rank", "Country", "Gold", "Silver", "Bronze", "Total", "By sport")
View(MedalsTable)
?arrange
descending <- arrange(MedalsTable, desc(Total))
head(descending)
ascending <- arrange(MedalsTable,ascending)
descendingGold <- arrange(MedalsTable, desc(Gold))
head(descendingGold)
?rm
grep('\bcat', ignore.case = T)
grep('\bcat\b', ignore.case = T)
?grep
grep('\bcat\b',base, ignore.case = T)
grep('\w\cat',base, ignore.case = T)
grep('\wcat\w',base, ignore.case = T)
grep('\wcat',base, ignore.case = T)
grep(\wcat,base, ignore.case = T)
grep('\\wcat',base, ignore.case = T)
grep('cat', base, ignore.case = T)
grep('\\wcat\\w',base, ignore.case = T)
grep('\\Wcat\\W',base, ignore.case = T)
grep('\\bcat\\b',base, ignore.case = T)
grep('\\wcat',base, ignore.case = T)
grep('cat\\w',base, ignore.case = T)
grep('cat\\w|\\wcat',base, ignore.case = T)
grep('(cat)\\w|\\w(cat)',base, ignore.case = T)
grep('cat\w|\wcat',base, ignore.case = T)
grep('cat\\w',base, ignore.case = T)
grep('\\wcat',base, ignore.case = T)
grep('\\wcat\\w',base, ignore.case = T)
grep('cat', base, ignore.case = T, fixed = T)
grep('cat', base, fixed = T)
grep('\\wcat\\w',base, ignore.case = T)
?blm
?glm
# deterministic (the model above) + stochastic, e.g. mdl1 <- y ~ x1 + x2, family = binomial, data = whatever
install.packages(stargazer)
install.packages("stargzer")
install.packages("stargazer")
library("dplyer","ggplot2")
library(dplyer,ggplot2)
library(ggplot2)
install.packages("dplyr")
library(dplyr)
data("mtcars")
install.packages(devtools)
install.packages("devtools")
summary(mtcars)
stat.desc(mtcars)
library(pastecs)
stat.desc(mtcars)
View("mtcars")
View(mtcars)
LM1 <- glm(mpg ~ wt, data = mtcars, family = "Binomial")
LM1 <- glm(mpg ~ wt, data = mtcars, family = "binomial")
?glm
?lm
LM1 <- lm(mpg ~ wt, data = mtcars)
LM2 <- lm(mpg ~ wt + disp, data = mtcars)
lm(mpg ~ wt + disp + am, data = mtcars)
LM3 <- lm(mpg ~ wt + disp + am, data = mtcars)
labels <- c("MPG", "Cylinders", "Displacement", "Horsepower", "Ratio", "Weight", "Qtr Mile", "Engine", "Transmission", "Gears", "Carburetors")
digits = 2, type = 'html')
stargazer::stargazer(LM1, LM2, LM3, covariate.labels = labels,
title = 'Regression Estimates of MPG Factors',
digits = 2, type = 'html')
```
``` {r regression table, }
labels <- c("MPG", "Cylinders", "Displacement", "Horsepower", "Ratio", "Weight", "Qtr Mile", "Engine", "Transmission", "Gears", "Carburetors", '(Intercept)')
# MPG regressions
table1 <- stargazer::stargazer(LM1, LM2, LM3, covariate.labels = labels,
title = 'Regression Estimates of MPG Factors',
digits = 2, type = 'html')
?wc
?wordcount
library(dplyr)
library(httr)
library(xlsx)
install.packages(xlsx)
install.packages('xlsx')
library(ggplot2)
read.xlsx('~/Test/02Bundeslaender.xls')
library(xlsx)
library(xlsx)
find.java()
library(rjava)
?remove.packages
remove.packages(xlsx)
remove.packages('xlsx')
install.packages('rjava')
yes
install.packages('rJava')
install.packages('xlsx')
library(xlsx)
library(xlsx)
?remove.packages('xlsx')
remove.packages('xlsx')
remove.packages('rJava')
install.packages('xlsx')
library(xlsx)
remove.packages('xlsx')
remove.packages('rJava')
install.packages('xlsx')
library(xlsx)
?read.xlsx
read.xlsx('~/Test/02Bundeslaender.xls, 2')
read.xlsx(~/Test/02Bundeslaender.xls, sheetName='Bundesländer_mit_Hauptstädten')
read.xlsx(02Bundeslaender.xls, sheetName='Bundesländer_mit_Hauptstädten')
read.xlsx(~/Test/02Bundeslaender.xls, sheetName='Bundesländer_mit_Hauptstädten')
read.xlsx('~/Test/02Bundeslaender.xls', sheetName='Bundesländer_mit_Hauptstädten')
read.xlsx('~/GitHub/Test/02Bundeslaender.xls', sheetName='Bundesländer_mit_Hauptstädten')
read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2)
laenderpop <- read.xlsx2('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex = {7, 9, 11, 13, 15, 15}, as.data.frame = T, )
laenderpop <- read.xlsx2('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
{7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 29, 41})
laenderpop <- read.xlsx2('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
'7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 29, 41')
View(laenderpop)
Pop_km <- read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
'7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 29, 41')
Pop_km <- read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
{7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 29, 41})
Pop_km <- read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
c(7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 29, 41))
View(Pop_km)
Pop_km <- read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
c(7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 39))
View(Pop_km)
35, 37, 39), colIndex = c(1, 3, 4, 5, 6, 7))
Pop_km <- read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
c(7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 39), colIndex = c(1, 3, 4, 5, 6, 7))
View(Pop_km)
Pop_km <- read.xlsx('~/GitHub/Test/02Bundeslaender.xls', 2, rowIndex =
c(5, 6, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
35, 37, 39), colIndex = c(1, 3, 4, 5, 6, 7))
View(Pop_km)
library(tidyr)
library(repmis)
RnrgPrimeURL <- 'http://www.lanuv.nrw.de/liki/datenreihe_nach_land.php?datenreihe=4'
RnrgEndURL <- 'http://www.lanuv.nrw.de/liki/datenreihe_nach_land.php?datenreihe=206'
read.xlsx('RnrgPrimeURL')
read.xlsx('RnrgPrimeURL', 1)
read.table('http://www.lanuv.nrw.de/liki/datenreihe_nach_land.php?datenreihe=206')
library(rio)
RnrgPrime <- rio::import('http://www.lanuv.nrw.de/liki/datenreihe_nach_land.php?datenreihe=206')
RnrgPrime <- rio::import(http://www.lanuv.nrw.de/liki/datenreihe_nach_land.php?datenreihe=206)
RnrgPrime <- rio::import(RnrgPrimeURL)
?source_data
remove(RnrgPrimeURL)
remove(RnrgPrime)
URL <- 'http://www.lanuv.nrw.de/liki/index.php?indikator=608&aufzu=1&mode=indi'
RnrgPrime9097 <- c(URL %>% read_html() %>%
html_nodes(table) %>%
html_table() %>%
as.data.frame)
library(rvest)
RnrgPrime9097 <- c(URL %>% read_html() %>%
html_nodes(table) %>%
html_table() %>%
as.data.frame)
RnrgPrime9097 <- (URL %>% read_html() %>%
html_nodes(table) %>%
html_table() %>%
as.data.frame)
read.html
?read.html
?read_html()
?html_nodes
RnrgPrime9097 <- (URL %>% read_html() %>%
html_nodes('table') %>%
html_table() %>%
as.data.frame)
?html_table
RnrgPrime9097 <- (URL %>% read_html() %>%
html_nodes('table') %>%
html_table( , header = TRUE, trim = TRUE) %>%
as.data.frame)
setwd('~/GitHub/Climate-Happiness')
?read.xlsx
read.xlsx('~/Data/export_land_primary.xls', 1)
setwd('~/GitHub/Climate-Happiness')
setwd()
read.xlsx('~/Data/export_land_primary.xls', 1)
read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xls', 1)
read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xlsx', 1)
read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xlsx', 1, rowIndex = c(4-21))
read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xlsx', 1, startRow = 4, endRow = 21)
URLnrg <- 'http://www.lanuv.nrw.de/liki/index.php?indikator=608&aufzu=1&mode=indi'
remove(URL)
remove(RnrgEndURL)
nrgprime <- read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xlsx', 1, startRow = 4, endRow = 21)
nrgprime <- read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xlsx', 1, startRow = 4, endRow = 21)
View(nrgprime)
nrgelectricity <- read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_strom.xlsx', 1, startRow = 4, endRow = 21)
nrgelec <- read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_strom.xlsx', 1, startRow = 4, endRow = 21)
View(nrgprime)
?gather
tidyNRGprime <- gather(nrgprime, year, X1991:X2013)
tidyNRGprime <- gather(nrgprime, year, 2:25)
tidyNRGprime <- gather(nrgprime, year, percentrenewable, 2:25)
tidyNRGprime <- gather(nrgprime, year, percentrenewable, 2:25)
?gsub
gsub(pattern = "K.D.", replacement = "NA", nrgprime, ignore.case = TRUE)
View(nrgprime)
gsub(pattern = "K.D.", replacement = "NA", nrgprime, ignore.case = TRUE, fixed = TRUE)
gsub(pattern = "K.D.", replacement = "NA", nrgprime, fixed = TRUE)
gsub(pattern = "K.D.", replacement = "/NA", nrgprime, fixed = TRUE)
gsub(pattern = "K.D.", replacement = "\NA", nrgprime, fixed = TRUE)
messynrgelec <- read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_strom.xlsx', 1, startRow = 4, endRow = 21)
messynrgprime <- read.xlsx('~/GitHub/Climate-Happiness/Data/export_land_primary.xlsx', 1, startRow = 4, endRow = 21)
remove(nrgelec)
remove(laenderpop)
remove(nrgprime)
remove(nrgelectricity)
remove(Pop_km)
NAs <- messynrgelec == "K.D."
is.na(messynrgelec)[NAs] <- TRUE
View(messynrgelec)
tidyNRGprime <- gather(nrgprime, year, percentrenewable, 2:25)
tidyNRGprime <- gather(messynrgelec, year, percentrenewable, 2:25)
?gather
tidyNRGprime <- gather(messynrgelec, year, percentrenewable, 2:25, na.rm = FALSE)
tidyNRGprime <- gather(messynrgelec, year, percentrenewable, 2:25, na.rm = FALSE, convert = TRUE)
tidyNRGprime <- gather(messynrgelec, year, percentrenewable, 2:25, na.rm = FALSE, convert = TRUE, factor_key = TRUE)
tidyNRGprime <- gather(messynrgelec, year, percentrenewable, 2:25, na.rm = FALSE, convert = TRUE)
is.vector(messynrgelec)
is.character(messynrgelec)
?transform.data.frame
?transform
?as.numeric
transform(messynrgelec, 2:25 = as.numeric(2:25))
transform(messynrgelec, X1990 = as.numeric(X1990))
for(i in c(2:25)){messynrgelec[,i] <- as.numeric(messynrgelec[,i])}
View(messynrgelec)
for(i in c(2:25)){messynrgelec[,i] <- as.numeric(messynrgelec[,i], digits = 3)}
View(messynrgelec)
setwd('~/GitHub/Climate-Happiness/Data')
getwd()
source('~/GitHub/Climate-Happiness/Data/SourceFile.R')
library(dplyr)
library(car) #scatterplots with panel data
library(httr)
library(foreign) #to read .dta files
library(rJava) # necessary for xlsxjar package
library(xlsxjars) # necessary for xlsx package
library(xlsx) # to read xls files
library(ggplot2)
library(tidyr) # tidy tables
library(repmis)
library(rio) # export files from R
library(XML) # read URL links
library(xml2)
library(rvest) # exporting tables
library(psych) # multilevel analysis
library(plm) # panel data regression
library(gsubfn) # replacing characters
library(multilevel) # multilevel analysis
library(nlme) # GLM models
library(texreg)
library(xtable)
